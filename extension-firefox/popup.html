<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Arena2API</title>
<style>
* { margin:0; padding:0; box-sizing:border-box; }
body { width:380px; font-family:system-ui,-apple-system,sans-serif; background:#0f172a; color:#e2e8f0; padding:16px; }
h1 { font-size:14px; color:#f1f5f9; margin-bottom:12px; display:flex; align-items:center; gap:8px; font-weight:600; letter-spacing:0.5px; }
h1 .badge { font-size:10px; background:#1e293b; color:#64748b; padding:2px 6px; border-radius:4px; font-weight:400; }
.card { background:#1e293b; border:1px solid #334155; border-radius:8px; padding:10px 12px; margin-bottom:10px; }
.row { display:flex; justify-content:space-between; align-items:center; padding:3px 0; font-size:12px; }
.label { color:#94a3b8; }
.val { font-weight:600; font-size:11px; }
.ok { color:#4ade80; }
.warn { color:#fbbf24; }
.err { color:#f87171; }
.info { color:#60a5fa; }
.dot { display:inline-block; width:6px; height:6px; border-radius:50%; margin-right:4px; vertical-align:middle; }
.dot-g { background:#4ade80; } .dot-y { background:#fbbf24; } .dot-r { background:#f87171; } .dot-b { background:#60a5fa; }
.title { font-size:10px; color:#64748b; text-transform:uppercase; letter-spacing:1.2px; margin-bottom:6px; font-weight:600; }
.inp { display:flex; gap:6px; margin-bottom:8px; }
input { flex:1; background:#0f172a; border:1px solid #334155; border-radius:6px; padding:7px 10px; color:#e2e8f0; font-size:11px; outline:none; font-family:monospace; }
input:focus { border-color:#4ade80; box-shadow:0 0 0 1px #4ade8033; }
input::placeholder { color:#475569; }
button { background:#1e293b; color:#4ade80; border:1px solid #4ade8033; border-radius:6px; padding:6px 10px; font-size:11px; cursor:pointer; white-space:nowrap; transition:all 0.15s; }
button:hover { background:#4ade8015; border-color:#4ade80; }
button:active { transform:scale(0.97); }
button.pri { background:#4ade80; color:#0f172a; font-weight:600; border-color:#4ade80; }
button.pri:hover { background:#22c55e; }
.btns { display:flex; gap:6px; margin-top:10px; }
.btns button { flex:1; }
.sep { height:1px; background:#334155; margin:10px 0; }
.foot { margin-top:10px; text-align:center; font-size:9px; color:#475569; }
.foot a { color:#4ade80; text-decoration:none; }
.meter { height:4px; background:#1e293b; border-radius:2px; overflow:hidden; margin-top:4px; }
.meter-fill { height:100%; border-radius:2px; transition:width 0.3s; }
.meter-g { background:linear-gradient(90deg,#4ade80,#22c55e); }
.meter-y { background:linear-gradient(90deg,#fbbf24,#f59e0b); }
.meter-r { background:linear-gradient(90deg,#f87171,#ef4444); }
.stats { display:grid; grid-template-columns:1fr 1fr; gap:4px 12px; }
</style>
</head>
<body>
<h1>Arena2API <span class="badge">v2.0</span></h1>

<div class="card">
  <div class="title">Connection</div>
  <div class="row"><span class="label">Server</span><span class="val" id="srv">-</span></div>
  <div class="row"><span class="label">Profile</span><span class="val info" id="pid">-</span></div>
  <div class="row"><span class="label">Arena Tab</span><span class="val" id="tab">-</span></div>
  <div class="row"><span class="label">Error</span><span class="val" id="err">-</span></div>
</div>

<div class="card">
  <div class="title">Token Pool</div>
  <div class="row"><span class="label">V3 Tokens</span><span class="val" id="v3">0 / 30</span></div>
  <div class="meter"><div class="meter-fill" id="v3bar" style="width:0%"></div></div>
  <div style="height:6px"></div>
  <div class="row"><span class="label">Auth Cookie</span><span class="val" id="auth">-</span></div>
  <div class="row"><span class="label">Models</span><span class="val" id="mdl">0</span></div>
  <div class="row"><span class="label">Server Needs</span><span class="val" id="need">-</span></div>
</div>

<div class="card">
  <div class="title">Stats</div>
  <div class="stats">
    <div class="row"><span class="label">Minted</span><span class="val info" id="minted">0</span></div>
    <div class="row"><span class="label">Pushed</span><span class="val info" id="pushed">0</span></div>
    <div class="row"><span class="label">Syncs</span><span class="val" id="syncs">0</span></div>
    <div class="row"><span class="label">Errors</span><span class="val" id="errs">0</span></div>
  </div>
</div>

<div class="sep"></div>

<div class="title">Server URL</div>
<div class="inp">
  <input type="text" id="url" placeholder="http://your-server:9090">
  <button id="saveUrl">Save</button>
</div>

<div class="title">Profile ID</div>
<div class="inp">
  <input type="text" id="profInput" placeholder="auto-generated">
  <button id="saveProf">Save</button>
</div>

<div class="title">Extension Secret (optional)</div>
<div class="inp">
  <input type="password" id="secretInput" placeholder="leave empty if not required">
  <button id="saveSecret">Save</button>
</div>

<div class="btns">
  <button id="open" class="pri">Open Arena.ai</button>
  <button id="token">Get Token</button>
  <button id="push">Sync</button>
</div>

<div class="foot">arena2api v2.0 | multi-profile edition</div>

<script src="popup.js"></script>
</body>
</html>
